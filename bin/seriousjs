#! /usr/bin/env node

var program = require('commander');
var path = require('path');

var sjs = require(path.join(__dirname, '../'));

program
  .version('0.1.1')
  .option('--create', 'create a new client/server pair with given name')
  .usage('[options] file/project')
  .parse(process.argv);


if (program.args.length === 1) {
  fileOrProject = program.args[0];
  if (program.create) {
    var project = require(path.join(__dirname, '../src/binUtil/project'));
    project.create(fileOrProject);
  }
  else {
    sjs.evalFile(fileOrProject);
  }
}
else {
  program.help();
}
